{"version":3,"file":"fxd-select.umd.min.js","sources":["../src/core/model.js","../src/core/utils.js","../src/core/render.js","../src/core/filter.js","../src/core/events.js","../src/core/FxdSelect.js"],"sourcesContent":["export function parseSelect(selectEl) {\n  const options = [];\n\n  selectEl.querySelectorAll('option').forEach((opt) => {\n    options.push({\n      value: opt.value,\n      label: opt.textContent,\n      selected: opt.selected,\n      disabled: opt.disabled,\n      group: opt.parentElement?.tagName === 'OPTGROUP' ? opt.parentElement.label : null,\n      element: opt,\n    });\n  });\n\n  return options;\n}\n\nexport function normalizeOptions(data, selectEl) {\n  if (!Array.isArray(data)) return [];\n\n  const selectedValues = selectEl?.multiple\n    ? new Set(Array.from(selectEl.selectedOptions).map((opt) => opt.value))\n    : new Set([selectEl?.value]);\n\n  return data.map((item) => {\n    const value = item.value ?? '';\n    const label = item.label ?? String(value);\n    const selected = typeof item.selected === 'boolean'\n      ? item.selected\n      : selectedValues.has(value);\n\n    return {\n      value,\n      label,\n      selected,\n      disabled: Boolean(item.disabled),\n      group: item.group ?? null,\n      element: null,\n    };\n  });\n}\n\nexport function buildModel(selectEl, options = {}) {\n  if (Array.isArray(options.data)) {\n    return normalizeOptions(options.data, selectEl);\n  }\n  return parseSelect(selectEl);\n}\n\nexport function syncSelectWithModel(selectEl, model) {\n  const currentGroups = new Map();\n  selectEl.innerHTML = '';\n\n  model.forEach((opt) => {\n    let parent = selectEl;\n    if (opt.group) {\n      if (!currentGroups.has(opt.group)) {\n        const groupEl = document.createElement('optgroup');\n        groupEl.label = opt.group;\n        currentGroups.set(opt.group, groupEl);\n        selectEl.appendChild(groupEl);\n      }\n      parent = currentGroups.get(opt.group);\n    }\n\n    const optionEl = document.createElement('option');\n    optionEl.value = opt.value;\n    optionEl.textContent = opt.label;\n    optionEl.disabled = Boolean(opt.disabled);\n    optionEl.selected = Boolean(opt.selected);\n    parent.appendChild(optionEl);\n  });\n}\n","let idCounter = 0;\n\nexport function createId(prefix) {\n  idCounter += 1;\n  return `${prefix}-${idCounter}`;\n}\n\nexport function addClasses(el, classString) {\n  if (!classString) return;\n  classString.split(' ').forEach((c) => {\n    if (c) el.classList.add(c);\n  });\n}\n\nexport function dispatchEvent(el, name, detail = {}) {\n  el.dispatchEvent(new CustomEvent(name, { detail, bubbles: true }));\n}\n\nexport function warnIfMissingBootstrap(major = 5) {\n  if (typeof window === 'undefined' || typeof document === 'undefined') return;\n\n  const rootStyles = getComputedStyle(document.documentElement);\n  const bsBodyColor = rootStyles.getPropertyValue('--bs-body-color').trim();\n\n  const probeMenu = document.createElement('div');\n  probeMenu.className = 'dropdown-menu';\n  probeMenu.style.position = 'absolute';\n  probeMenu.style.visibility = 'hidden';\n  document.body.appendChild(probeMenu);\n  const menuStyles = getComputedStyle(probeMenu);\n  document.body.removeChild(probeMenu);\n\n  const hasBootstrap = bsBodyColor.length > 0 && menuStyles.position === 'absolute';\n  if (!hasBootstrap) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `fxd-select: Bootstrap ${major}.x styles not detected. ` +\n      'The component will still work, but you should provide your own styles.'\n    );\n  }\n}\n","import { addClasses, createId } from './utils.js';\n\nfunction updateButtonLabel(ui, model, options, selectEl) {\n  if (typeof options.renderValue === 'function') {\n    const rendered = options.renderValue(model, selectEl);\n    if (rendered instanceof HTMLElement) {\n      ui.button.innerHTML = '';\n      ui.button.appendChild(rendered);\n      return;\n    }\n    ui.button.innerHTML = rendered ?? '';\n    return;\n  }\n\n  const selected = model.filter((opt) => opt.selected);\n  if (selected.length === 0) {\n    ui.button.textContent = options.placeholder;\n    return;\n  }\n\n  if (selectEl.multiple) {\n    if (options.multiValueStyle === 'pills') {\n      const container = document.createElement('span');\n      container.className = options.pillContainerClass;\n\n      const max = Math.max(0, options.maxDisplayItems);\n      selected.slice(0, max).forEach((opt) => {\n        const pill = document.createElement('span');\n        pill.className = options.pillClass;\n        pill.textContent = opt.label;\n        container.appendChild(pill);\n      });\n\n      if (selected.length > max) {\n        const count = document.createElement('span');\n        count.className = options.selectionCountClass;\n        const tpl = options.selectionCountTemplate;\n        count.textContent = typeof tpl === 'function' ? tpl(selected.length) : `${selected.length} selected`;\n        container.appendChild(count);\n      }\n\n      ui.button.innerHTML = '';\n      ui.button.appendChild(container);\n      return;\n    }\n\n    if (options.multiValueStyle === 'count') {\n      const tpl = options.selectionCountTemplate;\n      const text = typeof tpl === 'function' ? tpl(selected.length) : `${selected.length} selected`;\n      ui.button.innerHTML = `<span class=\"${options.selectionCountClass}\">${text}</span>`;\n      return;\n    }\n\n    if (selected.length > options.maxDisplayItems) {\n      const tpl = options.selectionCountTemplate;\n      ui.button.textContent = typeof tpl === 'function' ? tpl(selected.length) : `${selected.length} selected`;\n      return;\n    }\n    ui.button.textContent = selected.map((opt) => opt.label).join(', ');\n    return;\n  }\n\n  ui.button.textContent = selected[0].label;\n}\n\nexport function render(selectEl, model, options, existingUi = null) {\n  const ui = existingUi || {};\n\n  if (!existingUi) {\n    ui.wrapper = document.createElement('div');\n    ui.wrapper.className = 'dropdown fxd-select';\n    addClasses(ui.wrapper, options.wrapperClass);\n\n    ui.control = document.createElement('div');\n    ui.control.className = 'd-flex align-items-center gap-1';\n\n    ui.button = document.createElement('button');\n    ui.button.type = 'button';\n    ui.button.className = options.buttonClass;\n    ui.button.setAttribute('role', 'combobox');\n    ui.button.setAttribute('aria-haspopup', 'listbox');\n    ui.button.setAttribute('aria-expanded', 'false');\n\n    ui.control.appendChild(ui.button);\n\n    if (options.clearable) {\n      ui.clearButton = document.createElement('button');\n      ui.clearButton.type = 'button';\n      ui.clearButton.className = options.clearButtonClass;\n      ui.clearButton.setAttribute('aria-label', options.clearButtonLabel);\n      ui.clearButton.textContent = options.clearButtonText;\n      ui.control.appendChild(ui.clearButton);\n    }\n\n    ui.menu = document.createElement('div');\n    ui.menu.className = options.menuClass;\n\n    ui.wrapper.appendChild(ui.control);\n    ui.wrapper.appendChild(ui.menu);\n\n    selectEl.parentNode.insertBefore(ui.wrapper, selectEl.nextSibling);\n  } else {\n    ui.menu.innerHTML = '';\n  }\n\n  ui.list = document.createElement('div');\n  ui.list.id = ui.list.id || createId('fxd-list');\n  ui.list.setAttribute('role', 'listbox');\n\n  ui.button.setAttribute('aria-controls', ui.list.id);\n\n  if (options.searchable) {\n    const searchWrapper = document.createElement('div');\n    const searchContainer = document.createElement('div');\n    const searchInput = document.createElement('input');\n\n    searchContainer.className = 'form-control form-control-sm w-auto d-flex flex-fill align-items-center p-1 m-1';\n    searchInput.className = 'form-control p-0 border-0 rounded-0 shadow-none';\n    searchInput.placeholder = options.filterPlaceholder;\n    searchInput.setAttribute('aria-label', options.filterPlaceholder);\n\n    searchContainer.appendChild(searchInput);\n\n    if (options.searchClearable) {\n      const searchClear = document.createElement('button');\n      searchClear.type = 'button';\n      searchClear.className = `fxd-search-clear ${options.searchClearButtonClass}`;\n      searchClear.setAttribute('aria-label', options.searchClearAriaLabel);\n      searchClear.textContent = options.searchClearIcon;\n      searchContainer.appendChild(searchClear);\n      ui.searchClearButton = searchClear;\n    }\n\n    searchWrapper.appendChild(searchContainer);\n    ui.menu.appendChild(searchWrapper);\n\n    ui.searchInput = searchInput;\n\n    if (options.showDivider) {\n      const divider = document.createElement('hr');\n      divider.className = 'm-0';\n      ui.menu.appendChild(divider);\n    }\n\n    ui.noResults = document.createElement('div');\n    ui.noResults.className = 'no-result text-muted px-2 small d-none';\n    ui.noResults.textContent = options.noResultsText;\n    ui.menu.appendChild(ui.noResults);\n  }\n\n  if (options.maxHeight && options.maxHeight !== 'auto') {\n    ui.list.style.overflowY = 'auto';\n    ui.list.style.maxHeight = options.maxHeight;\n  }\n\n  ui.menu.appendChild(ui.list);\n\n  ui.optionButtons = [];\n\n  let currentGroup = null;\n  model.forEach((opt) => {\n    if (opt.group && opt.group !== currentGroup) {\n      const header = document.createElement('div');\n      header.className = 'dropdown-header';\n      header.textContent = opt.group;\n      header.dataset.group = opt.group;\n      ui.list.appendChild(header);\n      currentGroup = opt.group;\n    }\n\n    if (!opt.group) {\n      currentGroup = null;\n    }\n\n    const item = document.createElement('button');\n    item.type = 'button';\n    item.className = 'dropdown-item';\n    item.textContent = opt.label;\n    item.dataset.value = opt.value;\n    item.dataset.group = opt.group || '';\n    item.disabled = opt.disabled;\n    item.setAttribute('role', 'option');\n    item.setAttribute('aria-selected', opt.selected ? 'true' : 'false');\n    item.id = createId('fxd-opt');\n\n    if (options.renderOption) {\n      const rendered = options.renderOption(opt, { selected: opt.selected, disabled: opt.disabled });\n      if (rendered instanceof HTMLElement) {\n        item.innerHTML = '';\n        item.appendChild(rendered);\n      } else if (typeof rendered === 'string') {\n        item.innerHTML = rendered;\n      }\n    }\n\n    if (opt.selected) {\n      item.classList.add('is-selected');\n    }\n\n    ui.optionButtons.push(item);\n    ui.list.appendChild(item);\n  });\n\n  updateButtonLabel(ui, model, options, selectEl);\n\n  const isDisabled = selectEl.disabled;\n  ui.button.disabled = isDisabled;\n  if (ui.clearButton) ui.clearButton.disabled = isDisabled;\n  if (ui.searchInput) ui.searchInput.disabled = isDisabled;\n  if (ui.searchClearButton) ui.searchClearButton.disabled = isDisabled;\n\n  return ui;\n}\n","export function defaultFilter(query, option) {\n  if (!query) return true;\n  return option.label.toLowerCase().includes(query.toLowerCase());\n}\n\nexport function applyFilter(listEl, query, filterFn) {\n  const groupState = new Map();\n  let hidden = 0;\n\n  Array.from(listEl.children).forEach((item) => {\n    if (item.classList.contains('dropdown-header')) {\n      groupState.set(item.dataset.group || '', { header: item, visible: 0 });\n      return;\n    }\n\n    if (!item.matches('button.dropdown-item')) return;\n\n    const option = { label: item.textContent };\n    const show = filterFn(query, option);\n    item.classList.toggle('d-none', !show);\n    if (!show) hidden += 1;\n\n    const groupKey = item.dataset.group || '';\n    if (groupState.has(groupKey) && show) {\n      groupState.get(groupKey).visible += 1;\n    }\n  });\n\n  groupState.forEach(({ header, visible }) => {\n    header.classList.toggle('d-none', visible === 0);\n  });\n\n  return hidden;\n}\r\n","import { defaultFilter, applyFilter } from './filter.js';\nimport { normalizeOptions, syncSelectWithModel } from './model.js';\nimport { dispatchEvent } from './utils.js';\n\nexport function bindEvents(fxd) {\n  const { selectEl, ui, options, state } = fxd;\n\n  const getVisibleOptions = () => (\n    Array.from(ui.list.querySelectorAll('button.dropdown-item')).filter(\n      (item) => !item.classList.contains('d-none') && !item.disabled\n    )\n  );\n\n  const setFocusedIndex = (index) => {\n    const optionsList = getVisibleOptions();\n    if (optionsList.length === 0) {\n      state.focusedIndex = -1;\n      ui.button.removeAttribute('aria-activedescendant');\n      return;\n    }\n\n    const clamped = Math.max(0, Math.min(index, optionsList.length - 1));\n    optionsList.forEach((item) => item.classList.remove('active'));\n\n    const focused = optionsList[clamped];\n    focused.classList.add('active');\n    focused.scrollIntoView({ block: 'nearest' });\n\n    state.focusedIndex = clamped;\n    ui.button.setAttribute('aria-activedescendant', focused.id);\n  };\n\n  const focusSelectedOrFirst = () => {\n    const optionsList = getVisibleOptions();\n    if (optionsList.length === 0) return;\n\n    const selectedIndex = optionsList.findIndex(\n      (item) => item.getAttribute('aria-selected') === 'true'\n    );\n\n    setFocusedIndex(selectedIndex >= 0 ? selectedIndex : 0);\n  };\n\n  const onButtonClick = (e) => {\n    if (selectEl.disabled) return;\n    e.preventDefault();\n    fxd.toggle();\n    if (fxd.state.open) {\n      focusSelectedOrFirst();\n      ui.searchInput?.select();\n    }\n  };\n\n  const onDocumentClick = (e) => {\n    if (!ui.wrapper.contains(e.target)) {\n      fxd.close();\n    }\n  };\n\n  const onItemClick = (e) => {\n    const item = e.target.closest('button.dropdown-item');\n    if (!item) return;\n    if (selectEl.disabled || item.disabled) return;\n    if (selectEl.multiple) {\n      const option = Array.from(selectEl.options).find((opt) => opt.value === item.dataset.value);\n      if (option) {\n        option.selected = !option.selected;\n      }\n      selectEl.dispatchEvent(new Event('change', { bubbles: true }));\n    } else {\n      selectEl.value = item.dataset.value;\n      selectEl.dispatchEvent(new Event('change', { bubbles: true }));\n      fxd.close();\n      ui.button.focus();\n    }\n  };\n\n  const onItemHover = (e) => {\n    const item = e.target.closest('button.dropdown-item');\n    if (!item) return;\n\n    const optionsList = getVisibleOptions();\n    const idx = optionsList.indexOf(item);\n    if (idx >= 0) setFocusedIndex(idx);\n  };\n\n  const onSelectChange = () => {\n    fxd.refresh();\n    dispatchEvent(selectEl, 'fxd:change');\n  };\n\n  let loadTimer = null;\n  const runLoad = async (query) => {\n    const data = await options.load?.(query);\n    if (!Array.isArray(data)) return;\n    const model = normalizeOptions(data, selectEl);\n    syncSelectWithModel(selectEl, model);\n    fxd.model = model;\n    fxd.refresh();\n    if (fxd.ui.searchInput) {\n      fxd.ui.searchInput.value = query;\n    }\n  };\n\n  const onFilterInput = (e) => {\n    const query = e.target.value;\n    fxd.state.query = query;\n\n    if (options.load) {\n      if (loadTimer) clearTimeout(loadTimer);\n      loadTimer = setTimeout(() => runLoad(query), options.loadDebounce);\n      return;\n    }\n\n    const filterFn = options.filter || defaultFilter;\n    const hiddenCount = applyFilter(ui.list, query, filterFn);\n\n    if (ui.noResults) {\n      ui.noResults.classList.toggle('d-none', hiddenCount < ui.list.children.length);\n    }\n\n    focusSelectedOrFirst();\n  };\n\n  const onKeyDown = (e) => {\n    if (selectEl.disabled) return;\n    const key = e.key;\n    const openKeys = ['ArrowDown', 'ArrowUp', 'Enter', ' '];\n    const navKeys = ['ArrowDown', 'ArrowUp', 'Home', 'End'];\n\n    if (!fxd.state.open && openKeys.includes(key)) {\n      e.preventDefault();\n      fxd.open();\n      focusSelectedOrFirst();\n      ui.searchInput?.select();\n      return;\n    }\n\n    if (!fxd.state.open) return;\n\n    if (key === 'Escape') {\n      e.preventDefault();\n      fxd.close();\n      ui.button.focus();\n      return;\n    }\n\n    if (key === 'Enter') {\n      e.preventDefault();\n      const optionsList = getVisibleOptions();\n      const focused = optionsList[state.focusedIndex];\n      if (focused) {\n        focused.click();\n      }\n      return;\n    }\n\n    if (key === ' ') {\n      e.preventDefault();\n      const optionsList = getVisibleOptions();\n      const focused = optionsList[state.focusedIndex];\n      if (focused) {\n        focused.click();\n      }\n      return;\n    }\n\n    if (navKeys.includes(key)) {\n      e.preventDefault();\n      const optionsList = getVisibleOptions();\n      if (optionsList.length === 0) return;\n\n      if (key === 'Home') {\n        setFocusedIndex(0);\n        return;\n      }\n\n      if (key === 'End') {\n        setFocusedIndex(optionsList.length - 1);\n        return;\n      }\n\n      const delta = key === 'ArrowDown' ? 1 : -1;\n      setFocusedIndex(state.focusedIndex + delta);\n    }\n  };\n\n  const onClearClick = (e) => {\n    e.preventDefault();\n    fxd.clear();\n  };\n\n  const onSearchClearClick = () => {\n    if (!ui.searchInput) return;\n    ui.searchInput.value = '';\n    ui.searchInput.dispatchEvent(new Event('input'));\n    ui.searchInput.select();\n  };\n\n  ui.button.addEventListener('click', onButtonClick);\n  ui.list.addEventListener('click', onItemClick);\n  ui.list.addEventListener('mousemove', onItemHover);\n  document.addEventListener('click', onDocumentClick);\n  selectEl.addEventListener('change', onSelectChange);\n  ui.searchInput?.addEventListener('input', onFilterInput);\n  ui.searchClearButton?.addEventListener('click', onSearchClearClick);\n  ui.wrapper.addEventListener('keydown', onKeyDown);\n  ui.clearButton?.addEventListener('click', onClearClick);\n\n  return () => {\n    ui.button.removeEventListener('click', onButtonClick);\n    ui.list.removeEventListener('click', onItemClick);\n    ui.list.removeEventListener('mousemove', onItemHover);\n    document.removeEventListener('click', onDocumentClick);\n    selectEl.removeEventListener('change', onSelectChange);\n    ui.searchInput?.removeEventListener('input', onFilterInput);\n    ui.searchClearButton?.removeEventListener('click', onSearchClearClick);\n    ui.wrapper.removeEventListener('keydown', onKeyDown);\n    ui.clearButton?.removeEventListener('click', onClearClick);\n  };\n}\n","import { buildModel } from './model.js';\nimport { render } from './render.js';\nimport { bindEvents } from './events.js';\nimport { dispatchEvent, warnIfMissingBootstrap } from './utils.js';\n\nexport class FxdSelect {\n  constructor(selectEl, options = {}) {\n    if (!selectEl || selectEl.tagName !== 'SELECT') {\n      throw new Error('FxdSelect requires a <select> element');\n    }\n\n    this.selectEl = selectEl;\n    this.options = { ...FxdSelect.defaults, ...options };\n    this.state = {\n      open: false,\n      query: '',\n      focusedIndex: -1,\n    };\n\n    this.model = buildModel(this.selectEl, this.options);\n    this.ui = render(this.selectEl, this.model, this.options);\n    this.cleanup = bindEvents(this);\n\n    this.selectEl.classList.add('d-none');\n\n    if (this.options.warnOnMissingBootstrap) {\n      warnIfMissingBootstrap(this.options.bootstrapMajor);\n    }\n\n    dispatchEvent(this.selectEl, 'fxd:init');\n  }\n\n  _syncOpenState(open) {\n    this.state.open = open;\n    if (open) {\n      this.ui.wrapper.classList.add('show');\n      this.ui.menu.classList.add('show');\n      this.ui.button.setAttribute('aria-expanded', 'true');\n    } else {\n      this.ui.wrapper.classList.remove('show');\n      this.ui.menu.classList.remove('show');\n      this.ui.button.setAttribute('aria-expanded', 'false');\n      this.ui.button.removeAttribute('aria-activedescendant');\n      this.state.focusedIndex = -1;\n    }\n  }\n\n  open() {\n    if (this.state.open) return;\n    this._syncOpenState(true);\n    dispatchEvent(this.selectEl, 'fxd:open');\n  }\n\n  close() {\n    if (!this.state.open) return;\n    this._syncOpenState(false);\n    dispatchEvent(this.selectEl, 'fxd:close');\n  }\n\n  toggle() {\n    if (this.state.open) this.close();\n    else this.open();\n  }\n\n  refresh() {\n    const wasOpen = this.state.open;\n    this.cleanup?.();\n    this.model = buildModel(this.selectEl, this.options);\n    this.ui = render(this.selectEl, this.model, this.options, this.ui);\n    this.cleanup = bindEvents(this);\n    this._syncOpenState(wasOpen);\n    if (this.ui.searchInput && this.state.query) {\n      this.ui.searchInput.value = this.state.query;\n      this.ui.searchInput.dispatchEvent(new Event('input'));\n    }\n    dispatchEvent(this.selectEl, 'fxd:refresh');\n  }\n\n  destroy() {\n    this.cleanup?.();\n    this.ui.wrapper.remove();\n    this.selectEl.classList.remove('d-none');\n    dispatchEvent(this.selectEl, 'fxd:destroy');\n  }\n\n  getValue() {\n    return this.selectEl.value;\n  }\n\n  setValue(value) {\n    this.selectEl.value = value;\n    this.selectEl.dispatchEvent(new Event('change', { bubbles: true }));\n  }\n\n  clear() {\n    if (this.selectEl.multiple) {\n      Array.from(this.selectEl.options).forEach((opt) => {\n        opt.selected = false;\n      });\n    } else {\n      this.selectEl.value = '';\n    }\n    this.selectEl.dispatchEvent(new Event('change', { bubbles: true }));\n  }\n}\n\nFxdSelect.defaults = {\n  searchable: true,\n  clearable: false,\n  maxHeight: '12em',\n  placeholder: 'Select...',\n  noResultsText: 'No entries found',\n  buttonClass: 'form-select text-start',\n  wrapperClass: '',\n  menuClass: 'dropdown-menu p-0',\n  filterPlaceholder: 'Search',\n  showDivider: true,\n  renderOption: null,\n  renderValue: null,\n  data: null,\n  load: null,\n  loadDebounce: 250,\n  maxDisplayItems: 3,\n  multiValueStyle: 'pills',\n  selectionCountClass: 'badge bg-secondary',\n  selectionCountTemplate: (count) => `${count} selected`,\n  pillClass: 'badge text-bg-light border',\n  pillContainerClass: 'fxd-pills',\n  clearButtonClass: 'btn btn-outline-secondary btn-sm',\n  clearButtonLabel: 'Clear selection',\n  clearButtonText: '×',\n  searchClearable: true,\n  searchClearButtonClass: 'btn btn-link btn-sm text-decoration-none',\n  searchClearIcon: '×',\n  searchClearAriaLabel: 'Clear search',\n  warnOnMissingBootstrap: true,\n  bootstrapMajor: 5,\n  filter: null,\n};\n"],"names":["normalizeOptions","data","selectEl","Array","isArray","selectedValues","multiple","Set","from","selectedOptions","map","opt","value","item","label","String","selected","has","disabled","Boolean","group","element","buildModel","options","querySelectorAll","forEach","push","textContent","parentElement","tagName","parseSelect","idCounter","createId","prefix","dispatchEvent","el","name","detail","CustomEvent","bubbles","render","model","existingUi","ui","classString","menu","innerHTML","wrapper","document","createElement","className","wrapperClass","split","c","classList","add","control","button","type","buttonClass","setAttribute","appendChild","clearable","clearButton","clearButtonClass","clearButtonLabel","clearButtonText","menuClass","parentNode","insertBefore","nextSibling","list","id","searchable","searchWrapper","searchContainer","searchInput","placeholder","filterPlaceholder","searchClearable","searchClear","searchClearButtonClass","searchClearAriaLabel","searchClearIcon","searchClearButton","showDivider","divider","noResults","noResultsText","maxHeight","style","overflowY","optionButtons","currentGroup","header","dataset","renderOption","rendered","HTMLElement","renderValue","filter","length","multiValueStyle","container","pillContainerClass","max","Math","maxDisplayItems","slice","pill","pillClass","count","selectionCountClass","tpl","selectionCountTemplate","text","join","updateButtonLabel","isDisabled","defaultFilter","query","option","toLowerCase","includes","bindEvents","fxd","state","getVisibleOptions","contains","setFocusedIndex","index","optionsList","focusedIndex","removeAttribute","clamped","min","remove","focused","scrollIntoView","block","focusSelectedOrFirst","selectedIndex","findIndex","getAttribute","onButtonClick","e","preventDefault","toggle","open","select","onDocumentClick","target","close","onItemClick","closest","find","Event","focus","onItemHover","idx","indexOf","onSelectChange","refresh","loadTimer","runLoad","async","load","currentGroups","Map","parent","groupEl","set","get","optionEl","syncSelectWithModel","onFilterInput","clearTimeout","setTimeout","loadDebounce","filterFn","hiddenCount","listEl","groupState","hidden","children","visible","matches","show","groupKey","applyFilter","onKeyDown","key","click","delta","onClearClick","clear","onSearchClearClick","addEventListener","removeEventListener","FxdSelect","constructor","Error","this","defaults","cleanup","warnOnMissingBootstrap","major","window","bsBodyColor","getComputedStyle","documentElement","getPropertyValue","trim","probeMenu","position","visibility","body","menuStyles","removeChild","console","warn","warnIfMissingBootstrap","bootstrapMajor","_syncOpenState","wasOpen","destroy","getValue","setValue"],"mappings":"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"}